"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[334],{2448:function(e,n,t){t.d(n,{T:function(){return a}});var r=t(5893),o=t(2734),s={src:"/_next/static/media/logo.8e9bf94e.jpg",height:500,width:500,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAgACAMBIgACEQEDEQH/xAAnAAEBAAAAAAAAAAAAAAAAAAAABwEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAAqgP/xAAdEAAABQUAAAAAAAAAAAAAAAABAgQSEwADETFS/9oACAEBAAE/AHKQXCfN2GMCxs0bqv/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Af//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Af//Z",blurWidth:8,blurHeight:8},i=t(5675),l=t.n(i);let a=()=>{let e=(0,o.Z)();return e.palette.primary.main,(0,r.jsx)(l(),{src:s,width:50,alt:"Picture of the author"})}},2377:function(e,n,t){t.d(n,{L:function(){return l}});var r=t(7297),o=t(4096),s=t(948);function i(){let e=(0,r.Z)([""]);return i=function(){return e},e}let l=(0,s.ZP)(o.Z)(i())},2662:function(e,n,t){t.d(n,{a:function(){return s}});var r=t(7294),o=t(249);let s=()=>(0,r.useContext)(o.Vo)},8334:function(e,n,t){t.d(n,{A:function(){return O}});var r,o=t(5893),s=t(7294),i=t(9332),l=t(948),a=t(1163),c=t(5697),d=t.n(c),h=t(249);let A=e=>{let{children:n}=e,t=(0,a.useRouter)(),{isAuthenticated:r}=(0,h.Eu)(),o=(0,s.useRef)(!1),[i,l]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{t.isReady&&!o.current&&(o.current=!0,r?l(!0):(console.log("Not authenticated, redirecting"),t.replace({pathname:"/",query:"/admin/dashboard"!==t.asPath?{continueUrl:t.asPath}:void 0}).catch(console.error)))},[t.isReady]),i)?n:null};A.propTypes={children:d().node};var x=t(1664),p=t.n(x),u=t(662),m=t(8396),g=t(7357),j=t(5861),f=t(3219),w=t(7720),Z=t(6447),v=t(7533),b=t(2448),k=t(2377),C=t(9773);let y=[{title:"Dashboard",path:"/admin/dashboard",icon:(0,o.jsx)(f.Z,{fontSize:"small",children:(0,o.jsx)(C.Z,{})})},{title:"Guides",path:"/admin/guides",icon:(0,o.jsx)(f.Z,{fontSize:"small",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"})})})},{title:"Utilisateurs",path:"/admin/users",icon:(0,o.jsx)(f.Z,{fontSize:"small",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})})})}],M=[{title:"Dashboard",path:"/admin/dashboard",icon:(0,o.jsx)(f.Z,{fontSize:"small",children:(0,o.jsx)(C.Z,{})})},{title:"Guides",path:"/admin/guides",icon:(0,o.jsx)(f.Z,{fontSize:"small",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"})})})},{title:"Utilisateurs",path:"/admin/users",icon:(0,o.jsx)(f.Z,{fontSize:"small",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})})})},{title:"Administrateurs",path:"/admin/manager",icon:(0,o.jsx)(f.Z,{fontSize:"small",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21v-8.25M15.75 21v-8.25M8.25 21v-8.25M3 9l9-6 9 6m-1.5 12V10.332A48.36 48.36 0 0 0 12 9.75c-2.551 0-5.056.2-7.5.582V21M3 21h18M12 6.75h.008v.008H12V6.75Z"})})})},{title:"Destination",path:"/admin/destination",icon:(0,o.jsx)(f.Z,{fontSize:"small",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})})})},{title:"Circuit",path:"/admin/circuit",icon:(0,o.jsx)(f.Z,{fontSize:"small",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"})})})},{title:"Blog",path:"/admin/blog",icon:(0,o.jsx)(f.Z,{fontSize:"small",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"})})})}],E=e=>"admin_principal"===e?M:y;var S=t(7739);let B=e=>{let{active:n=!1,disabled:t,external:r,icon:s,path:i,title:l}=e,a=i?r?{component:"a",href:i,target:"_blank"}:{component:p(),href:i}:{};return(0,o.jsx)("li",{children:(0,o.jsxs)(S.Z,{sx:{alignItems:"center",borderRadius:1,display:"flex",justifyContent:"flex-start",pl:"16px",pr:"16px",py:"6px",textAlign:"left",width:"100%",...n&&{backgroundColor:"rgba(255, 255, 255, 0.04)"},"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.04)"}},...a,children:[s&&(0,o.jsx)(g.Z,{component:"span",sx:{alignItems:"center",color:"neutral.400",display:"inline-flex",justifyContent:"center",mr:2,...n&&{color:"primary.main"}},children:s}),(0,o.jsx)(g.Z,{component:"span",sx:{color:"neutral.400",flexGrow:1,fontFamily:e=>e.typography.fontFamily,fontSize:14,fontWeight:600,lineHeight:"24px",whiteSpace:"nowrap",...n&&{color:"common.white"},...t&&{color:"neutral.500"}},children:l})]})})};B.propTypes={active:d().bool,disabled:d().bool,external:d().bool,icon:d().node,path:d().string,title:d().string.isRequired};let P=e=>{let{open:n,onClose:t}=e,r=(0,i.usePathname)(),s=(0,m.Z)(e=>e.breakpoints.up("lg")),l=(0,h.Eu)(),a=l.user,c=E(null==a?void 0:a.role);console.log("user"+a);let d=(0,o.jsx)(k.L,{sx:{height:"100%","& .simplebar-content":{height:"100%"},"& .simplebar-scrollbar:before":{background:"neutral.400"}},children:(0,o.jsxs)(g.Z,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[(0,o.jsxs)(g.Z,{sx:{p:3},children:[(0,o.jsx)(g.Z,{component:p(),href:"/admin/dashboard",sx:{display:"inline-flex",height:32,width:32},children:(0,o.jsx)(b.T,{})}),(0,o.jsxs)(g.Z,{sx:{alignItems:"center",backgroundColor:"rgba(255, 255, 255, 0.04)",borderRadius:1,cursor:"pointer",display:"flex",justifyContent:"space-between",mt:2,p:"12px"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)(j.Z,{color:"inherit",variant:"subtitle1",children:"LE GUIDE BJ"}),(0,o.jsx)(j.Z,{color:"neutral.400",variant:"body2",children:"Production"})]}),(0,o.jsx)(f.Z,{fontSize:"small",sx:{color:"neutral.500"},children:(0,o.jsx)(u.Z,{})})]})]}),(0,o.jsx)(w.Z,{sx:{borderColor:"neutral.700"}}),(0,o.jsx)(g.Z,{component:"nav",sx:{flexGrow:1,px:2,py:3},children:(0,o.jsx)(Z.Z,{component:"ul",spacing:.5,sx:{listStyle:"none",p:0,m:0},children:c.map(e=>{let n=!!e.path&&r===e.path;return(0,o.jsx)(B,{active:n,disabled:e.disabled,external:e.external,icon:e.icon,path:e.path,title:e.title},e.title)})})}),(0,o.jsx)(w.Z,{sx:{borderColor:"neutral.700"}})]})});return s?(0,o.jsx)(v.ZP,{anchor:"left",open:!0,PaperProps:{sx:{backgroundColor:"neutral.800",color:"common.white",width:280}},variant:"permanent",children:d}):(0,o.jsx)(v.ZP,{anchor:"left",onClose:t,open:n,PaperProps:{sx:{backgroundColor:"neutral.800",color:"common.white",width:280}},sx:{zIndex:e=>e.zIndex.appBar+100},variant:"temporary",children:d})};P.propTypes={onClose:d().func,open:d().bool};var I=t(3806),L=t(9721),z=t(4149),Q=t(9396),D=t(4674),R=t(2613),N=t(4629),F=t(9661),H=t(1796),T=t(4189),V=t(4118),W=t(431),U=t(2662);let G=e=>{let n=(0,h.Eu)(),t=n.user,{anchorEl:r,onClose:l,open:a}=e,c=(0,i.useRouter)(),d=(0,U.a)(),A=(0,s.useCallback)(()=>{null==l||l(),d.signOut(),c.push("/admin/auth/login")},[l,d,c]);return(0,o.jsxs)(T.ZP,{anchorEl:r,anchorOrigin:{horizontal:"left",vertical:"bottom"},onClose:l,open:a,PaperProps:{sx:{width:200}},children:[(0,o.jsxs)(g.Z,{sx:{py:1.5,px:2},children:[(0,o.jsx)(j.Z,{variant:"overline",children:"Compte"}),(0,o.jsx)(j.Z,{color:"text.secondary",variant:"body2",children:null==t?void 0:t.role})]}),(0,o.jsx)(w.Z,{}),(0,o.jsx)(V.Z,{disablePadding:!0,dense:!0,sx:{p:"8px","& > *":{borderRadius:1}},children:(0,o.jsx)(W.Z,{onClick:A,children:"D\xe9connexion"})})]})};G.propTypes={anchorEl:d().any,onClose:d().func,open:d().bool.isRequired};let _=e=>{let{onNavOpen:n}=e,t=(0,m.Z)(e=>e.breakpoints.up("lg")),r=function(){let e=(0,s.useRef)(null),[n,t]=(0,s.useState)(!1),r=(0,s.useCallback)(()=>{t(!0)},[]),o=(0,s.useCallback)(()=>{t(!1)},[]),i=(0,s.useCallback)(()=>{t(e=>!e)},[]);return{anchorRef:e,handleClose:o,handleOpen:r,handleToggle:i,open:n}}();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(g.Z,{component:"header",sx:{backdropFilter:"blur(6px)",backgroundColor:e=>(0,H.Fq)(e.palette.background.default,.8),position:"sticky",left:{lg:"".concat(280,"px")},top:0,width:{lg:"calc(100% - ".concat(280,"px)")},zIndex:e=>e.zIndex.appBar},children:(0,o.jsxs)(Z.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:2,sx:{minHeight:64,px:2},children:[(0,o.jsxs)(Z.Z,{alignItems:"center",direction:"row",spacing:2,children:[!t&&(0,o.jsx)(D.Z,{onClick:n,children:(0,o.jsx)(f.Z,{fontSize:"small",children:(0,o.jsx)(z.Z,{})})}),(0,o.jsx)(R.Z,{title:"Search",children:(0,o.jsx)(D.Z,{children:(0,o.jsx)(f.Z,{fontSize:"small",children:(0,o.jsx)(Q.Z,{})})})})]}),(0,o.jsxs)(Z.Z,{alignItems:"center",direction:"row",spacing:2,children:[(0,o.jsx)(R.Z,{title:"Contacts",children:(0,o.jsx)(D.Z,{children:(0,o.jsx)(f.Z,{fontSize:"small",children:(0,o.jsx)(L.Z,{})})})}),(0,o.jsx)(R.Z,{title:"Notifications",children:(0,o.jsx)(D.Z,{children:(0,o.jsx)(N.Z,{badgeContent:4,color:"success",variant:"dot",children:(0,o.jsx)(f.Z,{fontSize:"small",children:(0,o.jsx)(I.Z,{})})})})}),(0,o.jsx)(F.Z,{onClick:r.handleOpen,ref:r.anchorRef,sx:{cursor:"pointer",height:40,width:40},src:"/assets/logos/logo.jpg"})]})]})}),(0,o.jsx)(G,{anchorEl:r.anchorRef.current,open:r.open,onClose:r.handleClose})]})};_.propTypes={onNavOpen:d().func};let q=(0,l.ZP)("div")(e=>{let{theme:n}=e;return{display:"flex",flex:"1 1 auto",maxWidth:"100%",[n.breakpoints.up("lg")]:{paddingLeft:280}}}),K=(0,l.ZP)("div")({display:"flex",flex:"1 1 auto",flexDirection:"column",width:"100%"}),O=(r=e=>{let{children:n}=e,t=(0,i.usePathname)(),[r,l]=(0,s.useState)(!1),a=(0,s.useCallback)(()=>{r&&l(!1)},[r]);return(0,s.useEffect)(()=>{a()},[t]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(_,{onNavOpen:()=>l(!0)}),(0,o.jsx)(P,{onClose:()=>l(!1),open:r}),(0,o.jsx)(q,{children:(0,o.jsx)(K,{children:n})})]})},e=>(0,o.jsx)(A,{children:(0,o.jsx)(r,{...e})}))}}]);